<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Alex Garns</title>

<style>
body {
  font-family: Georgia, serif;
  background: #fff;
  color: #1a1a1a;
  margin: 0;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 60px;
  position: fixed;
  top: 0; left: 0; right: 0;
  background: #fff;
}

.brand {
  font-size: 24px;
  font-weight: 600;
}

nav a {
  margin-left: 20px;
  padding: 6px 10px;
  color: #121212;
  text-decoration: none;
  border: 2px solid transparent;
  border-radius: 8px;
  transition: 0.3s;
}

nav a:hover {
  background: #000;
  color: #fff;
  border-color: #000;
}

main {
  max-width: 800px;
  margin: 120px auto 0;
  padding: 20px;
}

h2 {
  text-align: center;
  margin-bottom: 20px;
}

ul {
  list-style: none;
  padding: 0;
  display: grid;
  gap: 12px;
}

li {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 12px 16px;
}

li a {
  font-weight: bold;
  color: #0b57d0;
  text-decoration: none;
}

li p {
  margin: 4px 0;
}

.meta {
  font-size: 14px;
  color: #555;
}

/* Featured project box */
.featured-project {
  display: flex;
  gap: 24px;
  padding: 20px;
  margin-bottom: 32px;
  border-radius: 12px;
  border: 1px solid #ddd;
  background: #fafafa;
  align-items: stretch;
}

.featured-media {
  flex: 1.1;
}

.featured-media img {
  width: 100%;
  height: 100%;
  max-height: 260px;
  object-fit: cover;
  border-radius: 10px;
  border: 1px solid #eee;
  display: block;
}

.featured-content {
  flex: 1.4;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.featured-project h2 {
  text-align: left;
  margin: 0 0 8px;
}

.featured-content p {
  margin: 0 0 12px;
}

.featured-link {
  display: inline-block;
  padding: 8px 16px;
  border-radius: 999px;
  border: 1px solid #0b57d0;
  color: #0b57d0;
  text-decoration: none;
  font-weight: 600;
  font-size: 14px;
  transition: 0.2s;
}

.featured-link:hover {
  background: #0b57d0;
  color: #fff;
}

/* Second button styling */
.secondary-link {
  margin-top: 10px;
  border-color: #444;
  color: #444;
}

.secondary-link:hover {
  background: #444;
  color: #fff;
}

/* Responsive layout */
@media (max-width: 700px) {
  .featured-project {
    flex-direction: column;
  }

  .featured-media img {
    max-height: 220px;
  }
}
</style>
</head>
<body>

<header>
  <div class="brand">Alex Garns</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="projects.html">Projects</a>
    <a href="contacts.html">Contacts</a>
  </nav>
</header>

<main id="projects">

  <!-- Featured Project -->
  <section class="featured-project">
    <div class="featured-media">
      <img src="images/canvas-tracker-preview.png"
           alt="Screenshot of the CanvasTracker prototypes website" />
    </div>

    <div class="featured-content">
      <h2>CanvasTracker Prototypes</h2>
      <p>
        CanvasTracker Prototypes is a collection of interactive HTML5 canvas  
        experiments for capturing, tracking, and visualizing user pointer  
        interactions. It explores techniques for drawing, gesture tracking,  
        and responsive UI feedback directly in the browser.
      </p>

      <a class="featured-link"
         href="https://github.com/apgarns/CanvasTrackerPrototypes"
         target="_blank"
         rel="noopener">
        View Project on GitHub
      </a>

      <a class="featured-link secondary-link"
         href="project1.html">
        View More Information
      </a>
    </div>
  </section>

  <h2>Projects</h2>
  <p class="meta">Source: 
    <a href="https://github.com/apgarns?tab=repositories" target="_blank" rel="noopener">
      github.com/apgarns
    </a>
  </p>

  <div id="repoStatus">Loading repositories…</div>
  <ul id="repoList"></ul>
</main>

<script>
async function loadRepos() {
  const status = document.getElementById('repoStatus');
  const list = document.getElementById('repoList');
  status.textContent = 'Loading repositories…';
  list.innerHTML = '';

  try {
    const res = await fetch('https://api.github.com/users/apgarns/repos?per_page=100&sort=updated', {
      headers: { 'Accept': 'application/vnd.github+json' }
    });

    if (!res.ok) throw new Error('GitHub API error: ' + res.status);
    const data = await res.json();

    if (!data.length) {
      status.textContent = 'No repositories found.';
      return;
    }

    const frag = document.createDocumentFragment();

    data.filter(r => !r.fork)
        .sort((a,b) => new Date(b.updated_at) - new Date(a.updated_at))
        .forEach(r => {
          const li = document.createElement('li');
          li.innerHTML = `
            <a href="${r.html_url}" target="_blank" rel="noopener">${r.name}</a>
            <p>${r.description || 'No description'}</p>
            <div class="meta">
              Updated ${new Date(r.updated_at).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })}
              ${r.language ? ' • ' + r.language : ''}
              ${r.stargazers_count ? ' • ★ ' + r.stargazers_count : ''}
            </div>`;
          frag.appendChild(li);
        });

    list.appendChild(frag);
    status.textContent = '';

  } catch (err) {
    status.textContent = 'Could not load repositories. Try again later.';
    console.error(err);
  }
}

loadRepos();
</script>

</body>
</html>
